title: linuxGrep
date: 2015-09-02 09:35:38
tags: linux命令
---
grep是linux系统中强大的文本搜索工具，可使用正则表达式。
-------

-c：只输出匹配行的计数。
-C<n>：匹配的上下文分别显示多少行；-A<n>：之前n行；-B<n>:之后n行
-I：不区分大 小写(只适用于单字符)。

多文件时，文件名：
-h：查询多文件时不显示文件名。-H：显示文件名称。
-l：查询多文件时只输出包含匹配字符的文件名/-L：列出不匹配的文件名。

-d:指定的是目录，而非文件。
-e:制动多个匹配；如grep -e 'is' -e 'line' -o。

-n：显示匹配行及行号。
-s：不显示不存在或无匹配文本的错误信息。
-v：显示不包含匹配文本的所有行。 
-r：只输出文件匹配到的部分。

-w：只匹配整个单词
-E：不用”\”号进行转义，‘w\(es\)t.*\1′直接写成’w(es)t.*\1′就可以了
-o：只输出匹配到的内容???

正则：
------
\： 忽略正则表达式中特殊字符的原有含义。

^：匹配正则表达式的开始行。
$: 匹配正则表达式的结束行。

\<：从匹配正则表达式的行开始。
\>：到匹配正则表达式的行结束。

[ ]：单个字符，如[A]即A符合要求 。
[ - ]：范围，如[A-Z]，即A、B、C一直到Z都符合要求 。

&middot; ：所有的单个字符。
&lowast; ：有字符，长度可以为0。
x\\{m\\}，x\\{m,\\}，x\\{m,n\\}：m和n为数字，匹配包含m个x的行，至少m个x的行，至少m次，不多于n次个x的行。
 等等……

如：grep 'condition' filenames

grep的复杂应用：
-------
grep -r：要求搜索子目录，grep默认只搜索当前目录。
grep -d skip：忽略子目录

注：如果搜索到的信息过多，可以加管道 | less 命令来查看

将查询结果输出到文件：
git fsck --lost-found | grep 'commit' -C2 >aaa.txt

>注：找到丢失了的commit，并输出到文件。

\>\>aaa.txt：追加

换行输出：


